<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MathML Input Processor Options &mdash; MathJax 3.2 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/font.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="AsciiMath Input Processor Options" href="asciimath.html" />
    <link rel="prev" title="TeX Input Processor Options" href="tex.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> MathJax
          </a>
              <div class="version">
                3.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">The Basics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../basic/mathjax.html">What is MathJax?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basic/accessibility.html">MathJax Accessibility Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basic/mathematics.html">Writing Mathematics for MathJax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basic/community.html">The MathJax Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basic/bugs.html">Reporting Issues with MathJax</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Including MathJax in a Web Page</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../web/start.html"> Getting Started with Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web/configuration.html"> Configuring and Loading MathJax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web/components/index.html"> The MathJax Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web/typeset.html"> Typesetting and Converting Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web/hosting.html"> Hosting Your Own Copy of MathJax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web/webpack.html"> Making a Custom Build of MathJax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web/examples.html"> Examples in a Browser</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MathJax on a Server Using NodeJS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../server/start.html">Getting Started with Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/overview.html">Three Ways to Use MathJax in Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/examples.html">Examples in Node</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MathJax Input</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../input/tex/index.html">TeX and LaTeX Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../input/mathml.html">MathML Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../input/asciimath.html">AsciiMath Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MathJax Output</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../output/index.html">Output Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../output/lazy.html">Lazy Typesetting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../output/linebreaks.html">Line Breaking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../output/fonts.html">Font Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../output/browser.html">Browser Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Configuration Options</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Configuring MathJax</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Input Processor Options</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="tex.html">TeX Input Processor Options</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">MathML Input Processor Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-configuration-block">The Configuration Block</a></li>
<li class="toctree-l4"><a class="reference internal" href="#option-descriptions">Option Descriptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#developer-options">Developer Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="asciimath.html">AsciiMath Input Processor Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#options-common-to-all-input-processors">Options Common to All Input Processors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../output/index.html">Output Processor Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../document.html">Document Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accessibility.html">Accessibility Extensions Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../menu.html">Contextual Menu Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../safe.html">Safe Extension Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../startup/index.html">Startup and Loader Options</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/typeset.html">MathJax in Dynamic Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/extensions.html">Custom Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/model.html">The MathJax Processing Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/synchronize.html">Synchronizing Your Code with MathJax</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The MathJax API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">Using the MathJax API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../misc/faq.html">MathJax FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc/badges.html">MathJax Badges and Logo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc/articles.html">Articles and Presentations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MathJax Updates</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../upgrading/v2.html">Upgrading from Version 2.x</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrading/index.html">What's New</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MathJax</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Configuring MathJax</a> &raquo;</li>
          <li><a href="index.html">Input Processor Options</a> &raquo;</li>
      <li>MathML Input Processor Options</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/options/input/mathml.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mathml-input-processor-options">
<span id="mathml-options"></span><h1>MathML Input Processor Options<a class="headerlink" href="#mathml-input-processor-options" title="Permalink to this heading"></a></h1>
<p>The options below control the operation of the <a class="reference internal" href="../../basic/mathematics.html#mathml-input"><span class="std std-ref">MathML input
processor</span></a> that is run when you include
<code class="docutils literal notranslate"><span class="pre">'input/mml'</span></code> in the <code class="docutils literal notranslate"><span class="pre">load</span></code> array of the <code class="docutils literal notranslate"><span class="pre">loader</span></code> block of
your MathJax configuration, or if you load a combined component that
includes the MathML input jax.  They are listed with their default
values.  To set any of these options, include an <code class="docutils literal notranslate"><span class="pre">mml</span></code> section in
your <code class="xref js js-data docutils literal notranslate"><span class="pre">MathJax</span></code> global object.</p>
<hr class="docutils" />
<section id="the-configuration-block">
<h2>The Configuration Block<a class="headerlink" href="#the-configuration-block" title="Permalink to this heading"></a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">MathJax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nx">mml</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">parseAs</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;html&#39;</span><span class="p">,</span><span class="w">                     </span><span class="c1">// or &#39;xml&#39;</span><span class="w"></span>
<span class="w">    </span><span class="nx">forceReparse</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">                 </span><span class="c1">// true to serialize and re-parse all MathML</span><span class="w"></span>
<span class="w">    </span><span class="nx">parseError</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">node</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">        </span><span class="c1">// function to process parsing errors</span><span class="w"></span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">adaptor</span><span class="p">.</span><span class="nx">textContent</span><span class="p">(</span><span class="nx">node</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\n.*/g</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nx">verify</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w">                            </span><span class="c1">// parameters controling verification of MathML</span><span class="w"></span>
<span class="w">      </span><span class="nx">checkArity</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">                  </span><span class="c1">//   check if number of children is correct</span><span class="w"></span>
<span class="w">      </span><span class="nx">checkAttributes</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">            </span><span class="c1">//   check if attribute names are valid</span><span class="w"></span>
<span class="w">      </span><span class="nx">fullErrors</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">                 </span><span class="c1">//   display full error messages or just error node</span><span class="w"></span>
<span class="w">      </span><span class="nx">fixMmultiscripts</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">            </span><span class="c1">//   fix unbalanced mmultiscripts</span><span class="w"></span>
<span class="w">      </span><span class="nx">fixMtables</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w">                   </span><span class="c1">//   fix incorrect nesting in mtables</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="option-descriptions">
<h2>Option Descriptions<a class="headerlink" href="#option-descriptions" title="Permalink to this heading"></a></h2>
<span class="target" id="mathml-parseas"></span><dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">parseAs:</span> <span class="pre">'html'</span></span></dt>
<dd><p>Specifies how MathML strings should be parsed:  as XML or as HTML.
When set to <code class="docutils literal notranslate"><span class="pre">'xml'</span></code>, the browser’s XML parser is used, which is
more strict about format (e.g., matching end tags) than the HTML
parser, which is the default.  In node application (where the
<code class="docutils literal notranslate"><span class="pre">liteDOM</span></code> is used), these both use the same parser, which is not
very strict.</p>
</dd></dl>

<span class="target" id="mathml-forcereparse"></span><dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">forceReparse:</span> <span class="pre">false</span></span></dt>
<dd><p>Specifies whether MathJax will serialize and re-parse MathML found
in the document.  This can be useful if you want to do XML parsing
of the MathML from an HTML document.</p>
</dd></dl>

<span class="target" id="mathml-parseerror"></span><dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">parseError:</span> <span class="pre">(node)</span> <span class="pre">=&gt;</span> <span class="pre">{...}</span></span></dt>
<dd><p>Specifies a function to be called when there is a parsing error in
the MathML (usually only happens with XML parsing).  The <code class="docutils literal notranslate"><span class="pre">node</span></code>
is a DOM node containing the error text.  Your function can process
that in any way it sees fit.  The default is to call the MathML
input processor’s error function with the text of the error (which
will create an <code class="docutils literal notranslate"><span class="pre">merror</span></code> node with the error message).  Note that
this function runs with <code class="docutils literal notranslate"><span class="pre">this</span></code> being the MathML input processor
object.</p>
</dd></dl>

<span class="target" id="mathml-verify"></span><dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">verify:</span> <span class="pre">{...}</span></span></dt>
<dd><p>This object controls what verification/modifications are to be
performed on the MathML that is being processed by MathJax.
The values that can be included in the <code class="xref js js-attr docutils literal notranslate"><span class="pre">verify</span></code> object are
the following:</p>
<span class="target" id="mathml-verify-checkarity"></span><dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">checkArity:</span> <span class="pre">true</span></span></dt>
<dd><p>This specifies whether the number of children is verified or
not.  The default is to check for the correct number of
children.  If the number is wrong, the node is replaced by an
<code class="docutils literal notranslate"><span class="pre">&lt;merror&gt;</span></code> node containing either a message indicating the
wrong number of children, or the name of the node itself,
depending on the setting of <code class="xref js js-attr docutils literal notranslate"><span class="pre">fullErrors</span></code> below.</p>
</dd></dl>

<span class="target" id="mathml-verify-checkattributes"></span><dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">checkAttributes:</span> <span class="pre">false</span></span></dt>
<dd><p>This specifies whether the names of all attributes are checked
to see if they are valid on the given node (i.e., they have a
default value, or are one of the standard attributes such as
<code class="xref js js-attr docutils literal notranslate"><span class="pre">style</span></code>, <code class="xref js js-attr docutils literal notranslate"><span class="pre">class</span></code>, <code class="xref js js-attr docutils literal notranslate"><span class="pre">id</span></code>, <code class="xref js js-attr docutils literal notranslate"><span class="pre">href</span></code>, or a
<code class="xref js js-attr docutils literal notranslate"><span class="pre">data-</span></code> attribute.  If an attribute is in error, the node
is either placed inside an <code class="docutils literal notranslate"><span class="pre">&lt;merror&gt;</span></code> node (so that it is
marked in the output as containing an error), or is replaced by
an <code class="docutils literal notranslate"><span class="pre">&lt;merror&gt;</span></code> containing a full message indicating the bad
attribute, depending on the setting of <code class="xref js js-attr docutils literal notranslate"><span class="pre">fullErrors</span></code> below.</p>
<p>Currently only names are checked, not values.  Value
verification may be added in a future release.</p>
</dd></dl>

<span class="target" id="mathml-verify-fullerrors"></span><dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">fullErrors:</span> <span class="pre">false</span></span></dt>
<dd><p>This specifies whether a full error message is displayed when a
node produces an error, or whether just the node name is
displayed (or the node itself in the case of attribute errors).</p>
</dd></dl>

<span class="target" id="mathml-verify-fixmmultiscripts"></span><dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">fixMmultiscripts:</span> <span class="pre">true</span></span></dt>
<dd><p>This specifies whether extra <code class="docutils literal notranslate"><span class="pre">&lt;none/&gt;</span></code> entries are added to
<code class="docutils literal notranslate"><span class="pre">&lt;mmultiscripts&gt;</span></code> elements to balance the super- ans
subscripts, as required by the specification, or whether to
generate an error instead.</p>
</dd></dl>

<span class="target" id="mathml-verify-fixmtables"></span><dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">fixMtables:</span> <span class="pre">true</span></span></dt>
<dd><p>This specifies whether missing <code class="docutils literal notranslate"><span class="pre">&lt;mtable&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;mtr&gt;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&lt;mtd&gt;</span></code> elements are placed around cells or not.  When
<code class="docutils literal notranslate"><span class="pre">true</span></code>, MathJax will attempt to correct the table structure if
these elements are missing from the tree.  For example, an
<code class="docutils literal notranslate"><span class="pre">&lt;mtr&gt;</span></code> element that is not within an <code class="docutils literal notranslate"><span class="pre">&lt;mtable&gt;</span></code> will have
an <code class="docutils literal notranslate"><span class="pre">&lt;mtable&gt;</span></code> placed around it automatically, and an
<code class="docutils literal notranslate"><span class="pre">&lt;mtable&gt;</span></code> containing an <code class="docutils literal notranslate"><span class="pre">&lt;mi&gt;</span></code> as a direct child node will
have an <code class="docutils literal notranslate"><span class="pre">&lt;mtr&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;mtd&gt;</span></code> inserted around the <code class="docutils literal notranslate"><span class="pre">&lt;mi&gt;</span></code>.</p>
</dd></dl>

</dd></dl>

</section>
<hr class="docutils" />
<section id="developer-options">
<h2>Developer Options<a class="headerlink" href="#developer-options" title="Permalink to this heading"></a></h2>
<p>In addition to the options listed above, low-level options intended
for developers include the following:</p>
<span class="target" id="mathml-findmathml"></span><dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">FindMathML:</span> <span class="pre">null</span></span></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">FindMathML</span></code> object instance that will override the default
one.  This allows you to create a subclass of <code class="docutils literal notranslate"><span class="pre">FindMathML</span></code> and
pass that to the MathML input jax.  A <code class="docutils literal notranslate"><span class="pre">null</span></code> value means use the
default <code class="docutils literal notranslate"><span class="pre">FindMathML</span></code> class and make a new instance of that.</p>
</dd></dl>

<span class="target" id="mathml-mathmlcompile"></span><dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">MathMLCompile:</span> <span class="pre">null</span></span></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">MathMLCompile</span></code> object instance that will override the
default one.  This allows you to create a subclass of
<code class="docutils literal notranslate"><span class="pre">MathMLCompile</span></code> and pass that to the MathML input jax.  A
<code class="docutils literal notranslate"><span class="pre">null</span></code> value means use the default <code class="docutils literal notranslate"><span class="pre">MathMLCompile</span></code> class and
make a new instance of that.</p>
</dd></dl>

<p><hr></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tex.html" class="btn btn-neutral float-left" title="TeX Input Processor Options" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="asciimath.html" class="btn btn-neutral float-right" title="AsciiMath Input Processor Options" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021 The MathJax Consortium.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>